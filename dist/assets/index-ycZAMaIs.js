import{g as Is,E as xs}from"./index-DTW0HgcQ.js";import{c as me}from"./clsx.m-DHulAg21.js";const Ls=(t,e)=>{let n;switch(t){case"standard":return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return n=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return n=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return n=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${n}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return n=e,`data:image/svg+xml,%3Csvg width='${e}' height='${n}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};class H{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(s=>localStorage.removeItem(s))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new H("CBWSDK").clear(),new H("walletlink").clear()}}const I={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},Ze={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Xt="Unspecified error message.",As="Unspecified server error.";function rt(t,e=Xt){if(t&&Number.isInteger(t)){const n=t.toString();if(Ge(Ze,n))return Ze[n].message;if(en(t))return As}return e}function Ms(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(Ze[e]||en(t))}function Ps(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&Ge(t,"code")&&Ms(t.code)){const s=t;n.code=s.code,s.message&&typeof s.message=="string"?(n.message=s.message,Ge(s,"data")&&(n.data=s.data)):(n.message=rt(n.code),n.data={originalError:wt(t)})}else n.code=I.rpc.internal,n.message=vt(t,"message")?t.message:Xt,n.data={originalError:wt(t)};return e&&(n.stack=vt(t,"stack")?t.stack:void 0),n}function en(t){return t>=-32099&&t<=-32e3}function wt(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function Ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vt(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const m={rpc:{parse:t=>U(I.rpc.parse,t),invalidRequest:t=>U(I.rpc.invalidRequest,t),invalidParams:t=>U(I.rpc.invalidParams,t),methodNotFound:t=>U(I.rpc.methodNotFound,t),internal:t=>U(I.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return U(e,t)},invalidInput:t=>U(I.rpc.invalidInput,t),resourceNotFound:t=>U(I.rpc.resourceNotFound,t),resourceUnavailable:t=>U(I.rpc.resourceUnavailable,t),transactionRejected:t=>U(I.rpc.transactionRejected,t),methodNotSupported:t=>U(I.rpc.methodNotSupported,t),limitExceeded:t=>U(I.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>ae(I.provider.userRejectedRequest,t),unauthorized:t=>ae(I.provider.unauthorized,t),unsupportedMethod:t=>ae(I.provider.unsupportedMethod,t),disconnected:t=>ae(I.provider.disconnected,t),chainDisconnected:t=>ae(I.provider.chainDisconnected,t),unsupportedChain:t=>ae(I.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:s}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new sn(e,n,s)}}};function U(t,e){const[n,s]=tn(e);return new nn(t,n||rt(t),s)}function ae(t,e){const[n,s]=tn(e);return new sn(t,n||rt(t),s)}function tn(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class nn extends Error{constructor(e,n,s){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,s!==void 0&&(this.data=s)}}class sn extends nn{constructor(e,n,s){if(!Ts(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,s)}}function Ts(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function ot(){return t=>t}const ve=ot(),Rs=ot(),Ns=ot();function $(t){return Math.floor(t)}const rn=/^[0-9]*$/,on=/^[a-f0-9]*$/;function ne(t){return at(crypto.getRandomValues(new Uint8Array(t)))}function at(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function Ae(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function be(t,e=!1){const n=t.toString("hex");return ve(e?`0x${n}`:n)}function We(t){return be(Ye(t),!0)}function q(t){return Ns(t.toString(10))}function Q(t){return ve(`0x${BigInt(t).toString(16)}`)}function an(t){return t.startsWith("0x")||t.startsWith("0X")}function ct(t){return an(t)?t.slice(2):t}function cn(t){return an(t)?`0x${t.slice(2)}`:`0x${t}`}function De(t){if(typeof t!="string")return!1;const e=ct(t).toLowerCase();return on.test(e)}function Os(t,e=!1){if(typeof t=="string"){const n=ct(t).toLowerCase();if(on.test(n))return ve(e?`0x${n}`:n)}throw m.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function lt(t,e=!1){let n=Os(t,!1);return n.length%2===1&&(n=ve(`0${n}`)),e?ve(`0x${n}`):n}function G(t){if(typeof t=="string"){const e=ct(t).toLowerCase();if(De(e)&&e.length===40)return Rs(cn(e))}throw m.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function Ye(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(De(t)){const e=lt(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw m.rpc.invalidParams(`Not binary data: ${String(t)}`)}function ye(t){if(typeof t=="number"&&Number.isInteger(t))return $(t);if(typeof t=="string"){if(rn.test(t))return $(Number(t));if(De(t))return $(Number(BigInt(lt(t,!0))))}throw m.rpc.invalidParams(`Not an integer: ${String(t)}`)}function ge(t){if(t!==null&&(typeof t=="bigint"||Us(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(ye(t));if(typeof t=="string"){if(rn.test(t))return BigInt(t);if(De(t))return BigInt(lt(t,!0))}throw m.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Ds(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw m.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function Us(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}function Bs(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:n}=document.location,s=t?t.getAttribute("href"):null;return!s||s.startsWith("javascript:")||s.startsWith("vbscript:")?`${e}//${n}/favicon.ico`:s.startsWith("http://")||s.startsWith("https://")||s.startsWith("data:")?s:s.startsWith("//")?e+s:`${e}//${n}${s}`}async function Hs(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function js(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Ws(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:s}}async function qs(t,{iv:e,cipherText:n}){const s=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(s)}function ln(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function dn(t,e){const n=ln(t),s=await crypto.subtle.exportKey(n,e);return at(new Uint8Array(s))}async function hn(t,e){const n=ln(t),s=Ae(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(s),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function Vs(t,e){const n=JSON.stringify(t,(s,i)=>{if(!(i instanceof Error))return i;const r=i;return Object.assign(Object.assign({},r.code?{code:r.code}:{}),{message:r.message})});return Ws(e,n)}async function Ks(t,e){return JSON.parse(await qs(e,t))}const qe={storageKey:"ownPrivateKey",keyType:"private"},Ve={storageKey:"ownPublicKey",keyType:"public"},Ke={storageKey:"peerPublicKey",keyType:"public"};class Fs{constructor(){this.storage=new H("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(Ke,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(Ve.storageKey),this.storage.removeItem(qe.storageKey),this.storage.removeItem(Ke.storageKey)}async generateKeyPair(){const e=await Hs();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(qe,e.privateKey),await this.storeKey(Ve,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(qe)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(Ve)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(Ke)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await js(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?hn(e.keyType,n):null}async storeKey(e,n){const s=await dn(e.keyType,n);this.storage.setItem(e.storageKey,s)}}const ue="4.2.3",un="@coinbase/wallet-sdk";async function fn(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),s=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":ue,"X-Cbw-Sdk-Platform":un}}),{result:i,error:r}=await s.json();if(r)throw r;return i}function $s(){return globalThis.coinbaseWalletExtension}function zs(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function pn({metadata:t,preference:e}){var n,s;const{appName:i,appLogoUrl:r,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const c=$s();if(c)return(n=c.setAppInfo)===null||n===void 0||n.call(c,i,r,o,e),c}const a=zs();if(a?.isCoinbaseBrowser)return(s=a.setAppInfo)===null||s===void 0||s.call(a,i,r,o,e),a}function Zs(t){if(!t||typeof t!="object"||Array.isArray(t))throw m.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw m.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw m.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw m.provider.unsupportedMethod()}}const kt="accounts",Et="activeChain",Ct="availableChains",St="walletCapabilities";class Gs{constructor(e){var n,s,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Fs,this.storage=new H("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(kt))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(Et)||{id:(i=(s=e.metadata.appChainIds)===null||s===void 0?void 0:s[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,s;const i=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(n=e.params)!==null&&n!==void 0?n:{})}}),r=await this.communicator.postRequestAndWaitForResponse(i);if("failure"in r.content)throw r.content.failure;const o=await hn("public",r.sender);await this.keyManager.setPeerPublicKey(o);const c=(await this.decryptResponseMessage(r)).result;if("error"in c)throw c.error;const d=c.value;this.accounts=d,this.storage.storeObject(kt,d),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",d)}async request(e){var n;if(this.accounts.length===0)throw m.provider.unauthorized();switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Q(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Q(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(St);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw m.rpc.internal("No RPC URL set for chain");return fn(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,s;await((s=(n=this.communicator).waitForPopupLoaded)===null||s===void 0?void 0:s.call(n));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const s=e.params;if(!s||!(!((n=s[0])===null||n===void 0)&&n.chainId))throw m.rpc.invalidParams();const i=ye(s[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw m.provider.unauthorized("No valid session found, try requestAccounts before other methods");const s=await Vs({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:s});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await dn("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,s;const i=e.content;if("failure"in i)throw i.failure;const r=await this.keyManager.getSharedSecret();if(!r)throw m.provider.unauthorized("Invalid session");const o=await Ks(i.encrypted,r),a=(n=o.data)===null||n===void 0?void 0:n.chains;if(a){const d=Object.entries(a).map(([f,l])=>({id:Number(f),rpcUrl:l}));this.storage.storeObject(Ct,d),this.updateChain(this.chain.id,d)}const c=(s=o.data)===null||s===void 0?void 0:s.capabilities;return c&&this.storage.storeObject(St,c),o}updateChain(e,n){var s;const i=n??this.storage.loadObject(Ct),r=i?.find(o=>o.id===e);return r?(r!==this.chain&&(this.chain=r,this.storage.storeObject(Et,r),(s=this.callback)===null||s===void 0||s.call(this,"chainChanged",Q(r.id))),!0):!1}}var v={},M={};Object.defineProperty(M,"__esModule",{value:!0});M.output=M.exists=M.hash=M.bytes=M.bool=M.number=M.isBytes=void 0;function Re(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}M.number=Re;function gn(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}M.bool=gn;function _n(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}M.isBytes=_n;function dt(t,...e){if(!_n(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}M.bytes=dt;function mn(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Re(t.outputLen),Re(t.blockLen)}M.hash=mn;function bn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}M.exists=bn;function yn(t,e){dt(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}M.output=yn;const Ys={number:Re,bool:gn,bytes:dt,hash:mn,exists:bn,output:yn};M.default=Ys;var g={};Object.defineProperty(g,"__esModule",{value:!0});g.add5L=g.add5H=g.add4H=g.add4L=g.add3H=g.add3L=g.add=g.rotlBL=g.rotlBH=g.rotlSL=g.rotlSH=g.rotr32L=g.rotr32H=g.rotrBL=g.rotrBH=g.rotrSL=g.rotrSH=g.shrSL=g.shrSH=g.toBig=g.split=g.fromBig=void 0;const Ie=BigInt(2**32-1),Je=BigInt(32);function ht(t,e=!1){return e?{h:Number(t&Ie),l:Number(t>>Je&Ie)}:{h:Number(t>>Je&Ie)|0,l:Number(t&Ie)|0}}g.fromBig=ht;function wn(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:r,l:o}=ht(t[i],e);[n[i],s[i]]=[r,o]}return[n,s]}g.split=wn;const vn=(t,e)=>BigInt(t>>>0)<<Je|BigInt(e>>>0);g.toBig=vn;const kn=(t,e,n)=>t>>>n;g.shrSH=kn;const En=(t,e,n)=>t<<32-n|e>>>n;g.shrSL=En;const Cn=(t,e,n)=>t>>>n|e<<32-n;g.rotrSH=Cn;const Sn=(t,e,n)=>t<<32-n|e>>>n;g.rotrSL=Sn;const In=(t,e,n)=>t<<64-n|e>>>n-32;g.rotrBH=In;const xn=(t,e,n)=>t>>>n-32|e<<64-n;g.rotrBL=xn;const Ln=(t,e)=>e;g.rotr32H=Ln;const An=(t,e)=>t;g.rotr32L=An;const Mn=(t,e,n)=>t<<n|e>>>32-n;g.rotlSH=Mn;const Pn=(t,e,n)=>e<<n|t>>>32-n;g.rotlSL=Pn;const Tn=(t,e,n)=>e<<n-32|t>>>64-n;g.rotlBH=Tn;const Rn=(t,e,n)=>t<<n-32|e>>>64-n;g.rotlBL=Rn;function Nn(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}g.add=Nn;const On=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);g.add3L=On;const Dn=(t,e,n,s)=>e+n+s+(t/2**32|0)|0;g.add3H=Dn;const Un=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0);g.add4L=Un;const Bn=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0;g.add4H=Bn;const Hn=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0);g.add5L=Hn;const jn=(t,e,n,s,i,r)=>e+n+s+i+r+(t/2**32|0)|0;g.add5H=jn;const Js={fromBig:ht,split:wn,toBig:vn,shrSH:kn,shrSL:En,rotrSH:Cn,rotrSL:Sn,rotrBH:In,rotrBL:xn,rotr32H:Ln,rotr32L:An,rotlSH:Mn,rotlSL:Pn,rotlBH:Tn,rotlBL:Rn,add:Nn,add3L:On,add3H:Dn,add4L:Un,add4H:Bn,add5H:jn,add5L:Hn};g.default=Js;var Wn={},Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.crypto=void 0;Ue.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Ue,n=M;function s(h){return h instanceof Uint8Array||h!=null&&typeof h=="object"&&h.constructor.name==="Uint8Array"}t.isBytes=s;const i=h=>new Uint8Array(h.buffer,h.byteOffset,h.byteLength);t.u8=i;const r=h=>new Uint32Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/4));t.u32=r;const o=h=>new DataView(h.buffer,h.byteOffset,h.byteLength);t.createView=o;const a=(h,_)=>h<<32-_|h>>>_;t.rotr=a;const c=(h,_)=>h<<_|h>>>32-_>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const d=h=>h<<24&4278190080|h<<8&16711680|h>>>8&65280|h>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?h=>h:h=>(0,t.byteSwap)(h);function f(h){for(let _=0;_<h.length;_++)h[_]=(0,t.byteSwap)(h[_])}t.byteSwap32=f;const l=Array.from({length:256},(h,_)=>_.toString(16).padStart(2,"0"));function p(h){(0,n.bytes)(h);let _="";for(let S=0;S<h.length;S++)_+=l[h[S]];return _}t.bytesToHex=p;const u={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function E(h){if(h>=u._0&&h<=u._9)return h-u._0;if(h>=u._A&&h<=u._F)return h-(u._A-10);if(h>=u._a&&h<=u._f)return h-(u._a-10)}function P(h){if(typeof h!="string")throw new Error("hex string expected, got "+typeof h);const _=h.length,S=_/2;if(_%2)throw new Error("padded hex string expected, got unpadded hex of length "+_);const C=new Uint8Array(S);for(let T=0,O=0;T<S;T++,O+=2){const bt=E(h.charCodeAt(O)),yt=E(h.charCodeAt(O+1));if(bt===void 0||yt===void 0){const Ss=h[O]+h[O+1];throw new Error('hex string expected, got non-hex character "'+Ss+'" at index '+O)}C[T]=bt*16+yt}return C}t.hexToBytes=P;const L=async()=>{};t.nextTick=L;async function y(h,_,S){let C=Date.now();for(let T=0;T<h;T++){S(T);const O=Date.now()-C;O>=0&&O<_||(await(0,t.nextTick)(),C+=O)}}t.asyncLoop=y;function b(h){if(typeof h!="string")throw new Error(`utf8ToBytes expected string, got ${typeof h}`);return new Uint8Array(new TextEncoder().encode(h))}t.utf8ToBytes=b;function j(h){return typeof h=="string"&&(h=b(h)),(0,n.bytes)(h),h}t.toBytes=j;function W(...h){let _=0;for(let C=0;C<h.length;C++){const T=h[C];(0,n.bytes)(T),_+=T.length}const S=new Uint8Array(_);for(let C=0,T=0;C<h.length;C++){const O=h[C];S.set(O,T),T+=O.length}return S}t.concatBytes=W;class re{clone(){return this._cloneInto()}}t.Hash=re;const te={}.toString;function Se(h,_){if(_!==void 0&&te.call(_)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(h,_)}t.checkOpts=Se;function oe(h){const _=C=>h().update(j(C)).digest(),S=h();return _.outputLen=S.outputLen,_.blockLen=S.blockLen,_.create=()=>h(),_}t.wrapConstructor=oe;function fe(h){const _=(C,T)=>h(T).update(j(C)).digest(),S=h({});return _.outputLen=S.outputLen,_.blockLen=S.blockLen,_.create=C=>h(C),_}t.wrapConstructorWithOpts=fe;function pe(h){const _=(C,T)=>h(T).update(j(C)).digest(),S=h({});return _.outputLen=S.outputLen,_.blockLen=S.blockLen,_.create=C=>h(C),_}t.wrapXOFConstructorWithOpts=pe;function D(h=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(h));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=D})(Wn);Object.defineProperty(v,"__esModule",{value:!0});v.shake256=v.shake128=v.keccak_512=v.keccak_384=v.keccak_256=v.keccak_224=v.sha3_512=v.sha3_384=v.sha3_256=v.sha3_224=v.Keccak=v.keccakP=void 0;const ce=M,ke=g,F=Wn,qn=[],Vn=[],Kn=[],Qs=BigInt(0),_e=BigInt(1),Xs=BigInt(2),ei=BigInt(7),ti=BigInt(256),ni=BigInt(113);for(let t=0,e=_e,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],qn.push(2*(5*s+n)),Vn.push((t+1)*(t+2)/2%64);let i=Qs;for(let r=0;r<7;r++)e=(e<<_e^(e>>ei)*ni)%ti,e&Xs&&(i^=_e<<(_e<<BigInt(r))-_e);Kn.push(i)}const[si,ii]=(0,ke.split)(Kn,!0),It=(t,e,n)=>n>32?(0,ke.rotlBH)(t,e,n):(0,ke.rotlSH)(t,e,n),xt=(t,e,n)=>n>32?(0,ke.rotlBL)(t,e,n):(0,ke.rotlSL)(t,e,n);function Fn(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,d=n[c],f=n[c+1],l=It(d,f,1)^n[a],p=xt(d,f,1)^n[a+1];for(let u=0;u<50;u+=10)t[o+u]^=l,t[o+u+1]^=p}let i=t[2],r=t[3];for(let o=0;o<24;o++){const a=Vn[o],c=It(i,r,a),d=xt(i,r,a),f=qn[o];i=t[f],r=t[f+1],t[f]=c,t[f+1]=d}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=si[s],t[1]^=ii[s]}n.fill(0)}v.keccakP=Fn;class Ce extends F.Hash{constructor(e,n,s,i=!1,r=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,ce.number)(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,F.u32)(this.state)}keccak(){F.isLE||(0,F.byteSwap32)(this.state32),Fn(this.state32,this.rounds),F.isLE||(0,F.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,ce.exists)(this);const{blockLen:n,state:s}=this;e=(0,F.toBytes)(e);const i=e.length;for(let r=0;r<i;){const o=Math.min(n-this.pos,i-r);for(let a=0;a<o;a++)s[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:i}=this;e[s]^=n,n&128&&s===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,ce.exists)(this,!1),(0,ce.bytes)(e),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,r=e.length;i<r;){this.posOut>=s&&this.keccak();const o=Math.min(s-this.posOut,r-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,ce.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,ce.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:i,rounds:r,enableXOF:o}=this;return e||(e=new Ce(n,s,i,o,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=s,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}v.Keccak=Ce;const ee=(t,e,n)=>(0,F.wrapConstructor)(()=>new Ce(e,t,n));v.sha3_224=ee(6,144,224/8);v.sha3_256=ee(6,136,256/8);v.sha3_384=ee(6,104,384/8);v.sha3_512=ee(6,72,512/8);v.keccak_224=ee(1,144,224/8);v.keccak_256=ee(1,136,256/8);v.keccak_384=ee(1,104,384/8);v.keccak_512=ee(1,72,512/8);const $n=(t,e,n)=>(0,F.wrapXOFConstructorWithOpts)((s={})=>new Ce(e,t,s.dkLen===void 0?n:s.dkLen,!0));v.shake128=$n(31,168,128/8);v.shake256=$n(31,136,256/8);const{keccak_256:ri}=v;function zn(t){return Buffer.allocUnsafe(t).fill(0)}function oi(t){return t.toString(2).length}function Zn(t,e){let n=t.toString(16);n.length%2!==0&&(n="0"+n);const s=n.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;s.length<e;)s.unshift(0);return Buffer.from(s)}function ai(t,e){const n=t<0n;let s;if(n){const i=(1n<<BigInt(e))-1n;s=(~t&i)+1n}else s=t;return s&=(1n<<BigInt(e))-1n,s}function Gn(t,e,n){const s=zn(e);return t=Be(t),n?t.length<e?(t.copy(s),s):t.slice(0,e):t.length<e?(t.copy(s,e-t.length),s):t.slice(-e)}function ci(t,e){return Gn(t,e,!0)}function Be(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Yn(t)?t=Buffer.from(hi(Jn(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(typeof t=="bigint")t=Zn(t);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function li(t){return t=Be(t),"0x"+t.toString("hex")}function di(t,e){if(t=Be(t),e||(e=256),e!==256)throw new Error("unsupported");return Buffer.from(ri(new Uint8Array(t)))}function hi(t){return t.length%2?"0"+t:t}function Yn(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Jn(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Qn={zeros:zn,setLength:Gn,setLengthRight:ci,isHexString:Yn,stripHexPrefix:Jn,toBuffer:Be,bufferToHex:li,keccak:di,bitLengthFromBigInt:oi,bufferBEFromBigInt:Zn,twosFromBigInt:ai};const N=Qn;function Xn(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function le(t){return Number.parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Lt(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[Number.parseInt(e[1],10),Number.parseInt(e[2],10)]}function es(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":Number.parseInt(e[2],10):null}function se(t){var e=typeof t;if(e==="string"||e==="number")return BigInt(t);if(e==="bigint")return t;throw new Error("Argument is not a number")}function K(t,e){var n,s,i,r;if(t==="address")return K("uint160",se(e));if(t==="bool")return K("uint8",e?1:0);if(t==="string")return K("bytes",new Buffer(e,"utf8"));if(fi(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(n=es(t),n!=="dynamic"&&n!==0&&e.length>n)throw new Error("Elements exceed array size: "+n);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(r in e)i.push(K(t,e[r]));if(n==="dynamic"){var o=K("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([K("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,N.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(n=le(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return N.setLengthRight(e,32)}else if(t.startsWith("uint")){if(n=le(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);s=se(e);const a=N.bitLengthFromBigInt(s);if(a>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+a);if(s<0)throw new Error("Supplied uint is negative");return N.bufferBEFromBigInt(s,32)}else if(t.startsWith("int")){if(n=le(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);s=se(e);const a=N.bitLengthFromBigInt(s);if(a>n)throw new Error("Supplied int exceeds width: "+n+" vs "+a);const c=N.twosFromBigInt(s,256);return N.bufferBEFromBigInt(c,32)}else if(t.startsWith("ufixed")){if(n=Lt(t),s=se(e),s<0)throw new Error("Supplied ufixed is negative");return K("uint256",s*BigInt(2)**BigInt(n[1]))}else if(t.startsWith("fixed"))return n=Lt(t),K("int256",se(e)*BigInt(2)**BigInt(n[1]))}throw new Error("Unsupported or invalid type: "+t)}function ui(t){return t==="string"||t==="bytes"||es(t)==="dynamic"}function fi(t){return t.lastIndexOf("]")===t.length-1}function pi(t,e){var n=[],s=[],i=32*t.length;for(var r in t){var o=Xn(t[r]),a=e[r],c=K(o,a);ui(o)?(n.push(K("uint256",i)),s.push(c),i+=c.length):n.push(c)}return Buffer.concat(n.concat(s))}function ts(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var n,s,i=[],r=0;r<t.length;r++){var o=Xn(t[r]),a=e[r];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(N.setLength(a,20));else if(o.startsWith("bytes")){if(n=le(o),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);i.push(N.setLengthRight(a,n))}else if(o.startsWith("uint")){if(n=le(o),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);s=se(a);const c=N.bitLengthFromBigInt(s);if(c>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+c);i.push(N.bufferBEFromBigInt(s,n/8))}else if(o.startsWith("int")){if(n=le(o),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);s=se(a);const c=N.bitLengthFromBigInt(s);if(c>n)throw new Error("Supplied int exceeds width: "+n+" vs "+c);const d=N.twosFromBigInt(s,n);i.push(N.bufferBEFromBigInt(d,n/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function gi(t,e){return N.keccak(ts(t,e))}var _i={rawEncode:pi,solidityPack:ts,soliditySHA3:gi};const B=Qn,we=_i,ns={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Fe={encodeData(t,e,n,s=!0){const i=["bytes32"],r=[this.hashType(t,n)];if(s){const o=(a,c,d)=>{if(n[c]!==void 0)return["bytes32",d==null?"0x0000000000000000000000000000000000000000000000000000000000000000":B.keccak(this.encodeData(c,d,n,s))];if(d===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",B.keccak(d)];if(c==="string")return typeof d=="string"&&(d=Buffer.from(d,"utf8")),["bytes32",B.keccak(d)];if(c.lastIndexOf("]")===c.length-1){const f=c.slice(0,c.lastIndexOf("[")),l=d.map(p=>o(a,f,p));return["bytes32",B.keccak(we.rawEncode(l.map(([p])=>p),l.map(([,p])=>p)))]}return[c,d]};for(const a of n[t]){const[c,d]=o(a.name,a.type,e[a.name]);i.push(c),r.push(d)}}else for(const o of n[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=B.keccak(a),r.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=B.keccak(a),r.push(a);else if(n[o.type]!==void 0)i.push("bytes32"),a=B.keccak(this.encodeData(o.type,a,n,s)),r.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),r.push(a)}}return we.rawEncode(i,r)},encodeType(t,e){let n="",s=this.findTypeDependencies(t,e).filter(i=>i!==t);s=[t].concat(s.sort());for(const i of s){if(!e[i])throw new Error("No type definition specified: "+i);n+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return n},findTypeDependencies(t,e,n=[]){if(t=t.match(/^\w*/)[0],n.includes(t)||e[t]===void 0)return n;n.push(t);for(const s of e[t])for(const i of this.findTypeDependencies(s.type,e,n))!n.includes(i)&&n.push(i);return n},hashStruct(t,e,n,s=!0){return B.keccak(this.encodeData(t,e,n,s))},hashType(t,e){return B.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const n in ns.properties)t[n]&&(e[n]=t[n]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const n=this.sanitizeData(t),s=[Buffer.from("1901","hex")];return s.push(this.hashStruct("EIP712Domain",n.domain,n.types,e)),n.primaryType!=="EIP712Domain"&&s.push(this.hashStruct(n.primaryType,n.message,n.types,e)),B.keccak(Buffer.concat(s))}};var mi={TYPED_MESSAGE_SCHEMA:ns,TypedDataUtils:Fe,hashForSignTypedDataLegacy:function(t){return bi(t.data)},hashForSignTypedData_v3:function(t){return Fe.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Fe.hash(t.data)}};function bi(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const n=t.map(function(r){return r.type==="bytes"?B.toBuffer(r.value):r.value}),s=t.map(function(r){return r.type}),i=t.map(function(r){if(!r.name)throw e;return r.type+" "+r.name});return we.soliditySHA3(["bytes32","bytes32"],[we.soliditySHA3(new Array(t.length).fill("string"),i),we.soliditySHA3(s,n)])}const xe=Is(mi),yi="walletUsername",Qe="Addresses",wi="AppVersion";function R(t){return t.errorMessage!==void 0}class vi{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const s=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",Ae(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),r=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},i,r.encode(e)),a=16,c=o.slice(o.byteLength-a),d=o.slice(0,o.byteLength-a),f=new Uint8Array(c),l=new Uint8Array(d),p=new Uint8Array([...s,...f,...l]);return at(p)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((s,i)=>{(async function(){const r=await crypto.subtle.importKey("raw",Ae(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=Ae(e),a=o.slice(0,12),c=o.slice(12,28),d=o.slice(28),f=new Uint8Array([...d,...c]),l={name:"AES-GCM",iv:new Uint8Array(a)};try{const p=await window.crypto.subtle.decrypt(l,r,f),u=new TextDecoder;s(u.decode(p))}catch(p){i(p)}})()})}}class ki{constructor(e,n,s){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${s}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:s,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const r=(e=s?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(r),r}throw new Error(`Check unseen events failed: ${n.status}`)}}var Z;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(Z||(Z={}));class Ei{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var s;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(r){n(r);return}(s=this.connectionStateListener)===null||s===void 0||s.call(this,Z.CONNECTING),i.onclose=r=>{var o;this.clearWebSocket(),n(new Error(`websocket error ${r.code}: ${r.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Z.DISCONNECTED)},i.onopen=r=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Z.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},i.onmessage=r=>{var o,a;if(r.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(r.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Z.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const At=1e4,Ci=6e4;class Si{constructor({session:e,linkAPIUrl:n,listener:s}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=$(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=r=>{if(!r)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>r.JsonRpcUrl&&this.handleChainUpdated(a,r.JsonRpcUrl)]]).forEach((a,c)=>{const d=r[c];d!==void 0&&a(d)})},this.handleDestroyed=r=>{var o;r==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async r=>{var o;const a=await this.cipher.decrypt(r);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(r,o)=>{var a;const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(r,c)},this.handleWalletUsernameUpdated=async r=>{this.handleMetadataUpdated(yi,r)},this.handleAppVersionUpdated=async r=>{this.handleMetadataUpdated(wi,r)},this.handleChainUpdated=async(r,o)=>{var a;const c=await this.cipher.decrypt(r),d=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,d)},this.session=e,this.cipher=new vi(e.secret),this.listener=s;const i=new Ei(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async r=>{let o=!1;switch(r){case Z.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case Z.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},At),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Z.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(r=>{var o;switch(r.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=r.type==="IsLinkedOK"?r.linked:void 0;this.linked=a||r.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(r.metadata);break}case"Event":{this.handleIncomingEvent(r);break}}r.id!==void 0&&((o=this.requestResolutions.get(r.id))===null||o===void 0||o(r))}),this.ws=i,this.http=new ki(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:$(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,s;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(s=this.listener)===null||s===void 0||s.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const s=await this.cipher.decrypt(e.data),i=JSON.parse(s);if(i.type!=="WEB3_RESPONSE")return;const{id:r,response:o}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(r,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,s=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),r={type:"PublishEvent",id:$(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:s};return this.setOnceLinked(async()=>{const o=await this.makeRequest(r);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>At*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Ci}){const s=e.id;this.sendData(e);let i;return Promise.race([new Promise((r,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${s} timed out`))},n.timeout)}),new Promise(r=>{this.requestResolutions.set(s,o=>{clearTimeout(i),r(o),this.requestResolutions.delete(s)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:$(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:$(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:$(this.nextReqId++),sessionId:this.session.id}),!0)}}class Ii{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=cn(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}function xi(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ut(t,...e){if(!xi(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Mt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Li(t,e){ut(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $e=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),V=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Ai=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Mi(t){ut(t);let e="";for(let n=0;n<t.length;n++)e+=Ai[t[n]];return e}function Pi(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ss(t){return typeof t=="string"&&(t=Pi(t)),ut(t),t}class Ti{clone(){return this._cloneInto()}}function Ri(t){const e=s=>t().update(ss(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ni(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),r=BigInt(4294967295),o=Number(n>>i&r),a=Number(n&r),c=s?4:0,d=s?0:4;t.setUint32(e+c,o,s),t.setUint32(e+d,a,s)}const Oi=(t,e,n)=>t&e^~t&n,Di=(t,e,n)=>t&e^t&n^e&n;class Ui extends Ti{constructor(e,n,s,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$e(this.buffer)}update(e){Mt(this);const{view:n,buffer:s,blockLen:i}=this;e=ss(e);const r=e.length;for(let o=0;o<r;){const a=Math.min(i-this.pos,r-o);if(a===i){const c=$e(e);for(;i<=r-o;o+=i)this.process(c,o);continue}s.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Mt(this),Li(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:r}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(s,0),o=0);for(let l=o;l<i;l++)n[l]=0;Ni(s,i-8,BigInt(this.length*8),r),this.process(s,0);const a=$e(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<d;l++)a.setUint32(4*l,f[l],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:r,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=r,e.destroyed=o,i%n&&e.buffer.set(s),e}}const Bi=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Y=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),J=new Uint32Array(64);class Hi extends Ui{constructor(){super(64,32,8,!1),this.A=Y[0]|0,this.B=Y[1]|0,this.C=Y[2]|0,this.D=Y[3]|0,this.E=Y[4]|0,this.F=Y[5]|0,this.G=Y[6]|0,this.H=Y[7]|0}get(){const{A:e,B:n,C:s,D:i,E:r,F:o,G:a,H:c}=this;return[e,n,s,i,r,o,a,c]}set(e,n,s,i,r,o,a,c){this.A=e|0,this.B=n|0,this.C=s|0,this.D=i|0,this.E=r|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let l=0;l<16;l++,n+=4)J[l]=e.getUint32(n,!1);for(let l=16;l<64;l++){const p=J[l-15],u=J[l-2],E=V(p,7)^V(p,18)^p>>>3,P=V(u,17)^V(u,19)^u>>>10;J[l]=P+J[l-7]+E+J[l-16]|0}let{A:s,B:i,C:r,D:o,E:a,F:c,G:d,H:f}=this;for(let l=0;l<64;l++){const p=V(a,6)^V(a,11)^V(a,25),u=f+p+Oi(a,c,d)+Bi[l]+J[l]|0,P=(V(s,2)^V(s,13)^V(s,22))+Di(s,i,r)|0;f=d,d=c,c=a,a=o+u|0,o=r,r=i,i=s,s=u+P|0}s=s+this.A|0,i=i+this.B|0,r=r+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(s,i,r,o,a,c,d,f)}roundClean(){J.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ji=Ri(()=>new Hi),Pt="session:id",Tt="session:secret",Rt="session:linked";class de{constructor(e,n,s,i=!1){this.storage=e,this.id=n,this.secret=s,this.key=Mi(ji(`${n}, ${s} WalletLink`)),this._linked=!!i}static create(e){const n=ne(16),s=ne(32);return new de(e,n,s).save()}static load(e){const n=e.getItem(Pt),s=e.getItem(Rt),i=e.getItem(Tt);return n&&i?new de(e,n,i,s==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(Pt,this.id),this.storage.setItem(Tt,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(Rt,this._linked?"1":"0")}}function Wi(){try{return window.frameElement!==null}catch{return!1}}function qi(){try{return Wi()&&window.top?window.top.location:window.location}catch{return window.location}}function Vi(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function is(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const Ki='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function rs(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Ki)),document.documentElement.appendChild(t)}var He,k,os,ie,Nt,as,Xe,cs,ft,et,tt,Ee={},ls=[],Fi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,pt=Array.isArray;function X(t,e){for(var n in e)t[n]=e[n];return t}function gt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function w(t,e,n){var s,i,r,o={};for(r in e)r=="key"?s=e[r]:r=="ref"?i=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?He.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return Me(t,o,s,i,null)}function Me(t,e,n,s,i){var r={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++os,__i:-1,__u:0};return i==null&&k.vnode!=null&&k.vnode(r),r}function je(t){return t.children}function Pe(t,e){this.props=t,this.context=e}function he(t,e){if(e==null)return t.__?he(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?he(t):null}function ds(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ds(t)}}function Ot(t){(!t.__d&&(t.__d=!0)&&ie.push(t)&&!Ne.__r++||Nt!==k.debounceRendering)&&((Nt=k.debounceRendering)||as)(Ne)}function Ne(){var t,e,n,s,i,r,o,a;for(ie.sort(Xe);t=ie.shift();)t.__d&&(e=ie.length,s=void 0,r=(i=(n=t).__v).__e,o=[],a=[],n.__P&&((s=X({},i)).__v=i.__v+1,k.vnode&&k.vnode(s),_t(n.__P,s,i,n.__n,n.__P.namespaceURI,32&i.__u?[r]:null,o,r??he(i),!!(32&i.__u),a),s.__v=i.__v,s.__.__k[s.__i]=s,fs(o,s,a),s.__e!=r&&ds(s)),ie.length>e&&ie.sort(Xe));Ne.__r=0}function hs(t,e,n,s,i,r,o,a,c,d,f){var l,p,u,E,P,L,y=s&&s.__k||ls,b=e.length;for(c=$i(n,e,y,c,b),l=0;l<b;l++)(u=n.__k[l])!=null&&(p=u.__i===-1?Ee:y[u.__i]||Ee,u.__i=l,L=_t(t,u,p,i,r,o,a,c,d,f),E=u.__e,u.ref&&p.ref!=u.ref&&(p.ref&&mt(p.ref,null,u),f.push(u.ref,u.__c||E,u)),P==null&&E!=null&&(P=E),4&u.__u||p.__k===u.__k?c=us(u,c,t):typeof u.type=="function"&&L!==void 0?c=L:E&&(c=E.nextSibling),u.__u&=-7);return n.__e=P,c}function $i(t,e,n,s,i){var r,o,a,c,d,f=n.length,l=f,p=0;for(t.__k=new Array(i),r=0;r<i;r++)(o=e[r])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=r+p,(o=t.__k[r]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Me(null,o,null,null,null):pt(o)?Me(je,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Me(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,a=null,(d=o.__i=zi(o,n,c,l))!==-1&&(l--,(a=n[d])&&(a.__u|=2)),a==null||a.__v===null?(d==-1&&p--,typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?p--:d==c+1?p++:(d>c?p--:p++,o.__u|=4))):t.__k[r]=null;if(l)for(r=0;r<f;r++)(a=n[r])!=null&&!(2&a.__u)&&(a.__e==s&&(s=he(a)),ps(a,a));return s}function us(t,e,n){var s,i;if(typeof t.type=="function"){for(s=t.__k,i=0;s&&i<s.length;i++)s[i]&&(s[i].__=t,e=us(s[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=he(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function zi(t,e,n,s){var i,r,o=t.key,a=t.type,c=e[n];if(c===null||c&&o==c.key&&a===c.type&&!(2&c.__u))return n;if(s>(c!=null&&!(2&c.__u)?1:0))for(i=n-1,r=n+1;i>=0||r<e.length;){if(i>=0){if((c=e[i])&&!(2&c.__u)&&o==c.key&&a===c.type)return i;i--}if(r<e.length){if((c=e[r])&&!(2&c.__u)&&o==c.key&&a===c.type)return r;r++}}return-1}function Dt(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Fi.test(e)?n:n+"px"}function Le(t,e,n,s,i){var r;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||Dt(t.style,e,"");if(n)for(e in n)s&&n[e]===s[e]||Dt(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(cs,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?s?n.u=s.u:(n.u=ft,t.addEventListener(e,r?tt:et,r)):t.removeEventListener(e,r?tt:et,r);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Ut(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=ft++;else if(e.t<n.u)return;return n(k.event?k.event(e):e)}}}function _t(t,e,n,s,i,r,o,a,c,d){var f,l,p,u,E,P,L,y,b,j,W,re,te,Se,oe,fe,pe,D=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),r=[a=e.__e=n.__e]),(f=k.__b)&&f(e);e:if(typeof D=="function")try{if(y=e.props,b="prototype"in D&&D.prototype.render,j=(f=D.contextType)&&s[f.__c],W=f?j?j.props.value:f.__:s,n.__c?L=(l=e.__c=n.__c).__=l.__E:(b?e.__c=l=new D(y,W):(e.__c=l=new Pe(y,W),l.constructor=D,l.render=Gi),j&&j.sub(l),l.props=y,l.state||(l.state={}),l.context=W,l.__n=s,p=l.__d=!0,l.__h=[],l._sb=[]),b&&l.__s==null&&(l.__s=l.state),b&&D.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=X({},l.__s)),X(l.__s,D.getDerivedStateFromProps(y,l.__s))),u=l.props,E=l.state,l.__v=e,p)b&&D.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),b&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(b&&D.getDerivedStateFromProps==null&&y!==u&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,W),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,W)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(h){h&&(h.__=e)}),re=0;re<l._sb.length;re++)l.__h.push(l._sb[re]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,W),b&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(u,E,P)})}if(l.context=W,l.props=y,l.__P=t,l.__e=!1,te=k.__r,Se=0,b){for(l.state=l.__s,l.__d=!1,te&&te(e),f=l.render(l.props,l.state,l.context),oe=0;oe<l._sb.length;oe++)l.__h.push(l._sb[oe]);l._sb=[]}else do l.__d=!1,te&&te(e),f=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++Se<25);l.state=l.__s,l.getChildContext!=null&&(s=X(X({},s),l.getChildContext())),b&&!p&&l.getSnapshotBeforeUpdate!=null&&(P=l.getSnapshotBeforeUpdate(u,E)),a=hs(t,pt(fe=f!=null&&f.type===je&&f.key==null?f.props.children:f)?fe:[fe],e,n,s,i,r,o,a,c,d),l.base=e.__e,e.__u&=-161,l.__h.length&&o.push(l),L&&(l.__E=l.__=null)}catch(h){if(e.__v=null,c||r!=null)if(h.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;r[r.indexOf(a)]=null,e.__e=a}else for(pe=r.length;pe--;)gt(r[pe]);else e.__e=n.__e,e.__k=n.__k;k.__e(h,e,n)}else r==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=Zi(n.__e,e,n,s,i,r,o,c,d);return(f=k.diffed)&&f(e),128&e.__u?void 0:a}function fs(t,e,n){for(var s=0;s<n.length;s++)mt(n[s],n[++s],n[++s]);k.__c&&k.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){k.__e(r,i.__v)}})}function Zi(t,e,n,s,i,r,o,a,c){var d,f,l,p,u,E,P,L=n.props,y=e.props,b=e.type;if(b=="svg"?i="http://www.w3.org/2000/svg":b=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(d=0;d<r.length;d++)if((u=r[d])&&"setAttribute"in u==!!b&&(b?u.localName==b:u.nodeType==3)){t=u,r[d]=null;break}}if(t==null){if(b==null)return document.createTextNode(y);t=document.createElementNS(i,b,y.is&&y),a&&(k.__m&&k.__m(e,r),a=!1),r=null}if(b===null)L===y||a&&t.data===y||(t.data=y);else{if(r=r&&He.call(t.childNodes),L=n.props||Ee,!a&&r!=null)for(L={},d=0;d<t.attributes.length;d++)L[(u=t.attributes[d]).name]=u.value;for(d in L)if(u=L[d],d!="children"){if(d=="dangerouslySetInnerHTML")l=u;else if(!(d in y)){if(d=="value"&&"defaultValue"in y||d=="checked"&&"defaultChecked"in y)continue;Le(t,d,null,u,i)}}for(d in y)u=y[d],d=="children"?p=u:d=="dangerouslySetInnerHTML"?f=u:d=="value"?E=u:d=="checked"?P=u:a&&typeof u!="function"||L[d]===u||Le(t,d,u,L[d],i);if(f)a||l&&(f.__html===l.__html||f.__html===t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(l&&(t.innerHTML=""),hs(t,pt(p)?p:[p],e,n,s,b=="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,o,r?r[0]:n.__k&&he(n,0),a,c),r!=null)for(d=r.length;d--;)gt(r[d]);a||(d="value",b=="progress"&&E==null?t.removeAttribute("value"):E!==void 0&&(E!==t[d]||b=="progress"&&!E||b=="option"&&E!==L[d])&&Le(t,d,E,L[d],i),d="checked",P!==void 0&&P!==t[d]&&Le(t,d,P,L[d],i))}return t}function mt(t,e,n){try{if(typeof t=="function"){var s=typeof t.__u=="function";s&&t.__u(),s&&e==null||(t.__u=t(e))}else t.current=e}catch(i){k.__e(i,n)}}function ps(t,e,n){var s,i;if(k.unmount&&k.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||mt(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(r){k.__e(r,e)}s.base=s.__P=null}if(s=t.__k)for(i=0;i<s.length;i++)s[i]&&ps(s[i],e,n||typeof t.type!="function");n||gt(t.__e),t.__c=t.__=t.__e=void 0}function Gi(t,e,n){return this.constructor(t,n)}function nt(t,e,n){var s,i,r,o;e==document&&(e=document.documentElement),k.__&&k.__(t,e),i=(s=typeof n=="function")?null:n&&n.__k||e.__k,r=[],o=[],_t(e,t=(!s&&n||e).__k=w(je,null,[t]),i||Ee,Ee,e.namespaceURI,!s&&n?[n]:i?null:e.firstChild?He.call(e.childNodes):null,r,!s&&n?n:i?i.__e:e.firstChild,s,o),fs(r,t,o)}He=ls.slice,k={__e:function(t,e,n,s){for(var i,r,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,s||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},os=0,Pe.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=X({},this.state),typeof t=="function"&&(t=t(X({},n),this.props)),t&&X(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ot(this))},Pe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ot(this))},Pe.prototype.render=je,ie=[],as=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xe=function(t,e){return t.__v.__b-e.__v.__b},Ne.__r=0,cs=/(PointerCapture)$|Capture$/i,ft=0,et=Ut(!1),tt=Ut(!0);var Oe,x,ze,Bt,st=0,gs=[],A=k,Ht=A.__b,jt=A.__r,Wt=A.diffed,qt=A.__c,Vt=A.unmount,Kt=A.__;function _s(t,e){A.__h&&A.__h(x,t,st||e),st=0;var n=x.__H||(x.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Ft(t){return st=1,Yi(ms,t)}function Yi(t,e,n){var s=_s(Oe++,2);if(s.t=t,!s.__c&&(s.__=[n?n(e):ms(void 0,e),function(a){var c=s.__N?s.__N[0]:s.__[0],d=s.t(c,a);c!==d&&(s.__N=[d,s.__[1]],s.__c.setState({}))}],s.__c=x,!x.u)){var i=function(a,c,d){if(!s.__c.__H)return!0;var f=s.__c.__H.__.filter(function(p){return!!p.__c});if(f.every(function(p){return!p.__N}))return!r||r.call(this,a,c,d);var l=s.__c.props!==a;return f.forEach(function(p){if(p.__N){var u=p.__[0];p.__=p.__N,p.__N=void 0,u!==p.__[0]&&(l=!0)}}),r&&r.call(this,a,c,d)||l};x.u=!0;var r=x.shouldComponentUpdate,o=x.componentWillUpdate;x.componentWillUpdate=function(a,c,d){if(this.__e){var f=r;r=void 0,i(a,c,d),r=f}o&&o.call(this,a,c,d)},x.shouldComponentUpdate=i}return s.__N||s.__}function Ji(t,e){var n=_s(Oe++,3);!A.__s&&er(n.__H,e)&&(n.__=t,n.i=e,x.__H.__h.push(n))}function Qi(){for(var t;t=gs.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Te),t.__H.__h.forEach(it),t.__H.__h=[]}catch(e){t.__H.__h=[],A.__e(e,t.__v)}}A.__b=function(t){x=null,Ht&&Ht(t)},A.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Kt&&Kt(t,e)},A.__r=function(t){jt&&jt(t),Oe=0;var e=(x=t.__c).__H;e&&(ze===x?(e.__h=[],x.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(Te),e.__h.forEach(it),e.__h=[],Oe=0)),ze=x},A.diffed=function(t){Wt&&Wt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(gs.push(e)!==1&&Bt===A.requestAnimationFrame||((Bt=A.requestAnimationFrame)||Xi)(Qi)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),ze=x=null},A.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Te),n.__h=n.__h.filter(function(s){return!s.__||it(s)})}catch(s){e.some(function(i){i.__h&&(i.__h=[])}),e=[],A.__e(s,n.__v)}}),qt&&qt(t,e)},A.unmount=function(t){Vt&&Vt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(s){try{Te(s)}catch(i){e=i}}),n.__H=void 0,e&&A.__e(e,n.__v))};var $t=typeof requestAnimationFrame=="function";function Xi(t){var e,n=function(){clearTimeout(s),$t&&cancelAnimationFrame(e),setTimeout(t)},s=setTimeout(n,100);$t&&(e=requestAnimationFrame(n))}function Te(t){var e=x,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),x=e}function it(t){var e=x;t.__c=t.__(),x=e}function er(t,e){return!t||t.length!==e.length||e.some(function(n,s){return n!==t[s]})}function ms(t,e){return typeof e=="function"?e(t):e}const tr=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",nr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",sr="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class ir{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=is()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&nt(w("div",null,w(bs,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>w(rr,Object.assign({},n,{key:e}))))),this.root)}}const bs=t=>w("div",{class:me("-cbwsdk-snackbar-container")},w("style",null,tr),w("div",{class:"-cbwsdk-snackbar"},t.children)),rr=({autoExpand:t,message:e,menuItems:n})=>{const[s,i]=Ft(!0),[r,o]=Ft(t??!1);Ji(()=>{const c=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!r)};return w("div",{class:me("-cbwsdk-snackbar-instance",s&&"-cbwsdk-snackbar-instance-hidden",r&&"-cbwsdk-snackbar-instance-expanded")},w("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},w("img",{src:nr,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",w("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),w("div",{class:"-gear-container"},!r&&w("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),w("img",{src:sr,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&w("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((c,d)=>w("div",{class:me("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:d},w("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),w("span",{class:me("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))};class or{constructor(){this.attached=!1,this.snackbar=new ir}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,rs()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const ar=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class cr{constructor(){this.root=null,this.darkMode=is()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),rs()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(nt(null,this.root),e&&nt(w(lr,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const lr=({title:t,buttonText:e,darkMode:n,onButtonClick:s,onDismiss:i})=>{const r=n?"dark":"light";return w(bs,{darkMode:n},w("div",{class:"-cbwsdk-redirect-dialog"},w("style",null,ar),w("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),w("div",{class:me("-cbwsdk-redirect-dialog-box",r)},w("p",null,t),w("button",{onClick:s},e))))},dr="https://keys.coinbase.com/connect",zt="https://www.walletlink.org",hr="https://go.cb-w.com/walletlink";class Zt{constructor(){this.attached=!1,this.redirectDialog=new cr}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(hr);n.searchParams.append("redirect_url",qi().href),e&&n.searchParams.append("wl_url",e);const s=document.createElement("a");s.target="cbw-opener",s.href=n.href,s.rel="noreferrer noopener",s.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class z{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=Vi(),this.linkedUpdated=r=>{this.isLinked=r;const o=this.storage.getItem(Qe);if(r&&(this._session.linked=r),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!r&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(r,o)=>{this.storage.setItem(r,o)},this.chainUpdated=(r,o)=>{this.chainCallbackParams.chainId===r&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:r,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(r,10)))},this.accountUpdated=r=>{this.accountsCallback&&this.accountsCallback([r]),z.accountRequestCallbackIds.size>0&&(Array.from(z.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[r]})}),z.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:s,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Ii,this.ui=s,this.ui.attach()}subscribe(){const e=de.load(this.storage)||de.create(this.storage),{linkAPIUrl:n}=this,s=new Si({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new Zt:new or;return s.connect(),{session:e,ui:i,connection:s}}resetAndReload(){this.connection.destroy().then(()=>{const e=de.load(this.storage);e?.id===this._session.id&&H.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:q(e.weiValue),data:be(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?q(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?q(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?q(e.gasPriceInWei):null,gasLimit:e.gasLimit?q(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:q(e.weiValue),data:be(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?q(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?q(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?q(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?q(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:be(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const s=ne(8),i=r=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,e.method,r),n?.()};return new Promise((r,o)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(s,a=>{if(n?.(),R(a))return o(new Error(a.errorMessage));r(a)}),this.publishWeb3RequestEvent(s,e)})}publishWeb3RequestEvent(e,n){const s={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",s,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(s.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof Zt)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,s){return this.connection.publishEvent(e,n,s)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){z.accountRequestCallbackIds.forEach(s=>this.invokeCallback(s,n)),z.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,s){var i;const r=(i=s?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:r})}invokeCallback(e,n){const s=this.relayEventManager.callbacks.get(e);s&&(s(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,s={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=ne(8);return new Promise((r,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(R(a))return o(new Error(a.errorMessage));r(a)}),z.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,s)})}watchAsset(e,n,s,i,r,o){const a={method:"watchAsset",params:{type:e,options:{address:n,symbol:s,decimals:i,image:r},chainId:o}};let c=null;const d=ne(8),f=l=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,a.method,l),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload}),new Promise((l,p)=>{this.relayEventManager.callbacks.set(d,u=>{if(c?.(),R(u))return p(new Error(u.errorMessage));l(u)}),this.publishWeb3RequestEvent(d,a)})}addEthereumChain(e,n,s,i,r,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:r,iconUrls:s,nativeCurrency:o}};let c=null;const d=ne(8),f=l=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,a.method,l),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:f,onResetConnection:this.resetAndReload}),new Promise((l,p)=>{this.relayEventManager.callbacks.set(d,u=>{if(c?.(),R(u))return p(new Error(u.errorMessage));l(u)}),this.publishWeb3RequestEvent(d,a)})}switchEthereumChain(e,n){const s={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const r=ne(8),o=a=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,s.method,a),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(r,d=>{if(i?.(),R(d)&&d.errorCode)return c(m.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(R(d))return c(new Error(d.errorMessage));a(d)}),this.publishWeb3RequestEvent(r,s)})}}z.accountRequestCallbackIds=new Set;const Gt="DefaultChainId",Yt="DefaultJsonRpcUrl";class ys{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new H("walletlink",zt),this.callback=e.callback||null;const n=this._storage.getItem(Qe);if(n){const s=n.split(" ");s[0]!==""&&(this._addresses=s.map(i=>G(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:s}=e.getWalletLinkSession();return{id:n,secret:s}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Yt))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(Yt,e)}updateProviderInfo(e,n){var s;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(Gt,n.toString(10)),ye(n)!==i&&((s=this.callback)===null||s===void 0||s.call(this,"chainChanged",Q(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw m.rpc.invalidParams("Type is required");if(n?.type!=="ERC20")throw m.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!n?.options)throw m.rpc.invalidParams("Options are required");if(!n?.options.address)throw m.rpc.invalidParams("Address is required");const s=this.getChainId(),{address:i,symbol:r,image:o,decimals:a}=n.options,d=await this.initializeRelay().watchAsset(n.type,i,r,a,o,s?.toString());return R(d)?!1:!!d.result}async addEthereumChain(e){var n,s;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw m.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw m.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw m.rpc.invalidParams("nativeCurrency is a required field");const r=Number.parseInt(i.chainId,16);if(r===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:d,iconUrls:f=[],nativeCurrency:l}=i,p=await o.addEthereumChain(r.toString(),a,f,c,d,l);if(R(p))return!1;if(((s=p.result)===null||s===void 0?void 0:s.isApproved)===!0)return this.updateProviderInfo(a[0],r),null;throw m.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],s=Number.parseInt(n.chainId,16),r=await this.initializeRelay().switchEthereumChain(s.toString(10),this.selectedAddress||void 0);if(R(r))throw r;const o=r.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,s),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var s;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(r=>G(r));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",i),this._storage.setItem(Qe,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Q(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw m.rpc.internal("No RPC URL set for chain");return fn(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=G(e);if(!this._addresses.map(i=>G(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?G(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const s=e.to?G(e.to):null,i=e.value!=null?ge(e.value):BigInt(0),r=e.data?Ye(e.data):Buffer.alloc(0),o=e.nonce!=null?ye(e.nonce):null,a=e.gasPrice!=null?ge(e.gasPrice):null,c=e.maxFeePerGas!=null?ge(e.maxFeePerGas):null,d=e.maxPriorityFeePerGas!=null?ge(e.maxPriorityFeePerGas):null,f=e.gas!=null?ge(e.gas):null,l=e.chainId?ye(e.chainId):this.getChainId();return{fromAddress:n,toAddress:s,weiValue:i,data:r,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:d,gasLimit:f,chainId:l}}async ecRecover(e){const{method:n,params:s}=e;if(!Array.isArray(s))throw m.rpc.invalidParams();const r=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:We(s[0]),signature:We(s[1]),addPrefix:n==="personal_ecRecover"}});if(R(r))throw r;return r.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(Gt))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Q(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(R(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Q(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw m.rpc.invalidParams();const n=e[1],s=e[0];this._ensureKnownAddress(n);const r=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:G(n),message:We(s),addPrefix:!0,typedDataJson:null}});if(R(r))throw r;return r.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(R(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=Ye(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(R(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(R(i))throw i;return i.result}async signTypedData(e){const{method:n,params:s}=e;if(!Array.isArray(s))throw m.rpc.invalidParams();const i=d=>{const f={eth_signTypedData_v1:xe.hashForSignTypedDataLegacy,eth_signTypedData_v3:xe.hashForSignTypedData_v3,eth_signTypedData_v4:xe.hashForSignTypedData_v4,eth_signTypedData:xe.hashForSignTypedData_v4};return be(f[n]({data:Ds(d)}),!0)},r=s[n==="eth_signTypedData_v1"?1:0],o=s[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(r);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:G(r),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(R(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new z({linkAPIUrl:zt,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const ws="SignerType",vs=new H("CBWSDK","SignerConfigurator");function ur(){return vs.getItem(ws)}function fr(t){vs.setItem(ws,t)}async function pr(t){const{communicator:e,metadata:n,handshakeRequest:s,callback:i}=t;_r(e,n,i).catch(()=>{});const r={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:s})},{data:o}=await e.postRequestAndWaitForResponse(r);return o}function gr(t){const{signerType:e,metadata:n,communicator:s,callback:i}=t;switch(e){case"scw":return new Gs({metadata:n,callback:i,communicator:s});case"walletlink":return new ys({metadata:n,callback:i})}}async function _r(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const s=new ys({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:s.getSession()}}),await s.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const mr=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,br=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=n.headers.get("Cross-Origin-Opener-Policy");t=s??"null",t==="same-origin"&&console.error(mr)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:ks,getCrossOriginOpenerPolicy:yr}=br(),Jt=420,Qt=540;function wr(t){const e=(window.innerWidth-Jt)/2+window.screenX,n=(window.innerHeight-Qt)/2+window.screenY;kr(t);const s=window.open(t,"Smart Wallet",`width=${Jt}, height=${Qt}, left=${e}, top=${n}`);if(s?.focus(),!s)throw m.rpc.internal("Pop up window failed to open");return s}function vr(t){t&&!t.closed&&t.close()}function kr(t){const e={sdkName:un,sdkVersion:ue,origin:window.location.origin,coop:yr()};for(const[n,s]of Object.entries(e))t.searchParams.append(n,s.toString())}class Er{constructor({url:e=dr,metadata:n,preference:s}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const r=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await r},this.onMessage=async i=>new Promise((r,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const d=c.data;i(d)&&(r(d),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{vr(this.popup),this.popup=null,this.listeners.forEach(({reject:i},r)=>{i(m.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",r)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=wr(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:ue,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw m.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=s}}function Cr(t){const e=Ps(Sr(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",ue),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function Sr(t){var e;if(typeof t=="string")return{message:t,code:I.rpc.internal};if(R(t)){const n=t.errorMessage,s=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?I.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:s,data:{method:t.method}})}return t}class Ir extends xs{}var xr=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class Es extends Ir{constructor(e){var{metadata:n}=e,s=e.preference,{keysUrl:i}=s,r=xr(s,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=r,this.communicator=new Er({url:i,metadata:n,preference:r});const o=ur();o&&(this.signer=this.initSigner(o))}async request(e){try{if(Zs(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),s=this.initSigner(n);await s.handshake(e),this.signer=s,fr(n);break}case"net_version":return 1;case"eth_chainId":return Q(1);default:throw m.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return this.signer.request(e)}catch(n){const{code:s}=n;return s===I.provider.unauthorized&&this.disconnect(),Promise.reject(Cr(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,H.clearAll(),this.emit("disconnect",m.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return pr({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return gr({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Cs(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}class Tr{constructor(e){this.metadata={appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||Bs(),appChainIds:e.appChainIds||[]},this.storeLatestVersion(),ks()}makeWeb3Provider(e={options:"all"}){var n;Cs(e);const s={metadata:this.metadata,preference:e};return(n=pn(s))!==null&&n!==void 0?n:new Es(s)}getCoinbaseWalletLogo(e,n=240){return Ls(e,n)}storeLatestVersion(){new H("CBWSDK").setItem("VERSION",ue)}}function Lr(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=pn(n))!==null&&e!==void 0?e:new Es(n)}const Ar={options:"all"};function Rr(t){var e;new H("CBWSDK").setItem("VERSION",ue),ks();const s={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(Ar,(e=t.preference)!==null&&e!==void 0?e:{})};Cs(s.preference);let i=null;return{getProvider:()=>(i||(i=Lr(s)),i)}}export{Tr as CoinbaseWalletSDK,Rr as createCoinbaseWalletSDK,Tr as default};
